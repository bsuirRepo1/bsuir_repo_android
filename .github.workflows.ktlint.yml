# .github/workflows/ktlint.yml
name: Ktlint Check

on: [push, pull_request]

jobs:
  ktlint:
    runs-on: Windows 11
    steps:
      - name: Checkout code
        uses: actions/checkout@v2

      - name: Set up JDK 11
        uses: actions/setup-java@v1
        with:
          java-version: '8'

      - name: Grant execute permission for Gradle
        run: chmod +x ./gradlew

      - name: Run ktlintCheck
        run: ./gradlew ktlintCheck

      - name: Upload Ktlint report
        if: failure()
        uses: actions/upload-artifact@v2
        with:
          name: ktlint-report
          path: build/reports/ktlint/
